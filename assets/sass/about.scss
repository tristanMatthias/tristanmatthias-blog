@import "lib/include";

section.content {
    .intro {
        @extend %ani-slide-down;

        img.abstract {
            @extend %ani-slide-down;
        }
    }

    h2.work + h4 {
        @extend %ani-slide-down;
    }
    ul.history > li {
        @extend %ani-slide-left;
        time {
            @extend %fw-bold;
        }
        h3 {
            @extend %fs-huge;
        }
        &:nth-child(2n) {
            @extend %ani-slide-right;
        }
    }
}

@media #{$tiny-up} {
    body {
        background-color: col('red');
    }
    section{
        color: #AD9591;
        h3 { color: col('red'); }
    }
    section.title {
        height: gs(3);
        margin-bottom: gs(1);
        &:before {
            background-image: image-url("about/title.jpg");
        }
        h1 {
            margin-top: -3rem;
            text-align: center;
            position: absolute;
            width: 100%;
        }
    }

    section.content {
        position: relative;
        padding-left: gs(1);
        &:after, ul.history > li:before, ul.history:after {
            content: "";
            position: absolute;
            width: gs(0.4);
            height: gs(0.4);
            border: 4px solid col('red');
            background-color: col('beige');
            @include border-radius(50%);
        }
        &:after {
            top: -10rem;
            left: calc(2rem + #{gs(-0.3)});
        }
        &:before {
            content: "";
            position: absolute;
            width: 4px;
            height: 0;
            top: -10rem;
            left: calc(2rem - 2px);
            background-color: col('red');
            @include animation(line 1s forwards);
            @include animation-delay(1.5s);
        }


        h2 {
            font-size: 0;
            height: gs(3);
            width: gs(4);
            margin: auto;
            margin-top: gs(1);
            margin-bottom: 0;
            &.work {
                height: gs(2) - 1rem;
                & + h4 {
                    display: block;
                    text-align: center;
                    margin-bottom: gs(1);
                    background-color: col('white');
                    @include animation-delay(1.6s);
                    border: 0;
                }
            }
        }
        .intro {
            .abstract {
                width: 50%;
                float: right;
            }
        }

        ul.history {
            & > li {
                margin-top: gs(1);
                &:before {
                    margin-left: -3.25rem;
                    margin-top: gs(1) + -0.3rem;
                    z-index: 10;
                }
                time, h4 {
                    font-size: $fs-main;
                    text-transform: uppercase;
                    color: col('teal');
                    @include opacity(0.5);
                    text-align: right;
                    width: 100%;
                    display: inline-block;
                }
                h3 {
                    position: relative;
                    font-size: $fs-huge;
                    color: col('red');
                    font-family: $f-stack-headings;
                    height: gs(1);
                    span {
                        position: relative;
                        line-height: gs(1);
                        float: right;
                        padding-left: gs(1/2);
                        background-color: col('white');
                    }

                    &:before {
                        content: "";
                        position: absolute;
                        width: 100%;
                        height: 0.4rem;
                        left: -2rem;
                        top: 50%;
                        background-color: col('red');
                        @include opacity(0.2);
                    }
                }
                h4 {
                    margin-top: 1rem;
                    border-top: 0;
                    @include opacity(1);
                }
                ul {
                    margin-top: 1rem;
                    margin-left: 3rem;
                }
            }

            &:after {
                position: absolute;
                bottom: -3.2rem;
                left: 0.8rem;
            }
        }
    }
}

@media #{$medium-up} {
    section.content {
        padding-left: 0;
        &:before {
            left: calc(50% - 2px);
        }
        &:after {
            left: calc(50% - 12px);
        }

        .intro {
            p:nth-of-type(1) {
                max-width: gs(6.5);
                width: 40%;
            }
            p:nth-of-type(2) {
                width: 40%;
                margin-left: calc(50% + #{gs(1)});
            }
            p:nth-of-type(3) {
                width: 40%;
                margin-left: calc(50% + #{gs(1.5)});
                margin-top: gs(1/2);
            }
            p:nth-of-type(4) {
                width: 40%;
                margin-left: 5%;
                margin-top: gs(-2);
                text-align: right;
            }
            img.abstract {
                position: absolute;
                margin-left: calc(25% - #{gs(3)});
                max-width: gs(5);
                @include animation-delay(1.7s);
            }
        }
        h2.work {
            background-color: col('white');
            & + h4 {
                padding-bottom: 2rem;
                margin-bottom: 0;
            }
        }
        ul.history {
            margin-bottom: gs(2);
            &:after {
                left: 50%;
                @include transform(translateX(-50%));
            }
            & > li {
                width: 50%;
                display: inline-block;
                vertical-align: top;
                h3 {
                    display: inline-block;
                    width: 100%;
                }
                p { width: 90%; }
                ul {
                    width: calc(90% - 3rem);
                    text-align: left;
                }
                &:before {
                    margin-left: 0;
                    @include transform(translateX(-50%));
                }
                &:nth-child(2n-1) {
                    &:before {
                        left: calc(100% + 2px);
                    }
                    time, h4 {
                        text-align: left;
                    }
                    h3 {
                        &:before {
                            left: 2rem;
                            width: calc(100% - 2rem);
                        }
                        span {
                            padding-left: 0;
                            padding-right: gs(1/2);
                            float: none;
                        }
                    }
                }
                &:nth-child(2n) {
                    margin-top: gs(4);
                    &:before {
                        left: -2px;
                    }
                    p {
                        text-align: right;
                        margin-left: 10%;
                    }
                    ul {
                        margin-left: gs(2);
                    }
                    h3:before {
                        left: 0;
                        width: auto;
                        right: 0;
                    }
                }
            }
        }
    }
}

@media #{$large-up} {
    section.title {
        height: pgs(1);
    }
    section.content {
        .intro {
            p:nth-of-type(4) {
                margin-top: 0;
            }
        }
        ul.history {
            & > li {
                position: relative;
                background-color: col('white');
                width: calc(50% - 2px);
                z-index: $page-grid-z + 2;
                &:nth-child(2n) {
                    margin-left: 4px;
                }
            }
        }
    }
}

@keyframes line {
    from {
        height: 0%;
        @include opacity(0);
    }
    to {
        height: calc(100% + #{gs(3)});
        @include opacity(1);
    }
}